<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://perlweeklychallenge.org/"/>
    <meta property="og:image"       content="https://perlweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://perlweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Advent Calendar - December 6, 2019">
    <meta name="author" content="Perl Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.55.5" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advent Calendar - December 6, 2019</title>
    <link rel="icon" href="https://perlweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/main.css">
</head>

<body>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://perlweeklychallenge.org/">
                        <img src="https://perlweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Advent Calendar - December 6, 2019</h2>
                    <div class="portfolio-meta">
                        <span>Friday, Dec 6, 2019</span>|
                        <span> Tags:
                            Raku
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://perlweeklychallenge.org/images/blog/2019-12-06.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    

<p><a href="/blog/advent-calendar-2019"><strong>Advent Calendar 2019</strong></a></p>

<hr />

<p>The gift is presented by <a href="/blog/meet-the-champion-019"><strong>Arne Sommer</strong></a>. Today he is talking about his solutions to <strong>Task #1: Pythagoras Pie Puzzle</strong> of <a href="/blog/perl-weekly-challenge-016"><strong>&ldquo;The Weekly Challenge - 016&rdquo;</strong></a>.</p>

<h4 id="at-a-party-a-pie-is-to-be-shared-by-100-guest-the-first-guest-gets-1-of-the-pie-the-second-guest-gets-2-of-the-remaining-pie-the-third-gets-3-of-the-remaining-pie-the-fourth-gets-4-and-so-on-write-a-script-that-figures-out-which-guest-gets-the-largest-piece-of-pie">At a party a pie is to be shared by 100 guest. The first guest gets 1% of the pie, the second guest gets 2% of the remaining pie, the third gets 3% of the remaining pie, the fourth gets 4% and so on. Write a script that figures out which guest gets the largest piece of pie.</h4>

<hr />

<p>We can start with the numbers (the size of the pieces), which is suitable job for a sequence with «<strong>gather</strong>/<strong>take</strong>»:
<br />
<br />
<a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-016/arne-sommer/perl6/pythagoras-pie-all"><strong>pythagoras-pie-all</strong></a></p>

<pre><code class="language-perl6">my $pythagoras-pie := gather  # [1]
{
  my $remainder = 100;        # [2]
  my $position  = 1;          # [3]
  loop                        # [4]
  {
    my $part = $remainder * $position / 100; # [5]
    $remainder -= $part;                     # [6]
    $position++;                             # [7]
    take $part;                              # [8]
  }
}

say &quot;{ $_ + 1 } -&gt;  $pythagoras-pie[$_]%&quot; for ^100; [9]
</code></pre>

<p><br />
</p>

<h3 id="1-we-set-up-the-sequence-with-binding-to-ensure-that-it-stays-lazy-as-evaluating-an-inifinite-list-doesn-t-work-out">[1] We set up the sequence with binding (:=) to ensure that it stays lazy (as evaluating an inifinite list doesn&rsquo;t work out).</h3>

<h3 id="2-the-size-of-the-pie-in-starting-with-100">[2] The size of the pie (in %), starting with 100.</h3>

<h3 id="3-the-position-in-the-sequence-we-need-this-as-the-portion-is-defined-related-to-this-variable">[3] The position in the sequence. We need this as the portion is defined related to this variable.</h3>

<h3 id="4-an-infinite-loop">[4] An infinite loop.</h3>

<h3 id="5-the-size-of-the-part-given-to-the-current-guest">[5] The size of the part given to the current guest.</h3>

<h3 id="6-the-remainder-of-the-pie-after-the-current-guest-has-been-served">[6] The remainder of the pie, after the current guest has been served.</h3>

<h3 id="7-increase-the-position-ready-for-the-next-iteration-of-the-loop-4">[7] Increase the position, ready for the next iteration of the loop (#4).</h3>

<h3 id="8-return-the-current-size">[8] Return the current size.</h3>

<h3 id="9-print-the-100-first-values-from-the-sequence-any-values-after-this-are-all-zero">[9] Print the 100 first values from the sequence. (Any values after this are all zero.)</h3>

<p><br />
Running it (with just some of the lines shown):</p>

<pre><code>$ perl6 pythagoras-pie-all
1 -&gt;  1%
2 -&gt;  1.98%
3 -&gt;  2.9106%
4 -&gt;  3.764376%
5 -&gt;  4.5172512%
6 -&gt;  5.149666368%
7 -&gt;  5.64746745024%
8 -&gt;  6.002451118541%
9 -&gt;  6.21253690768973%
10 -&gt;  6.281565095552947%
11 -&gt;  6.21874944459741773%
12 -&gt;  6.037840369845492849%
13 -&gt;  5.75607448591936984904%
14 -&gt;  5.392999018345995%
15 -&gt;  4.969263381190237%
...
96 -&gt;  3.7330486177577654e-34%
97 -&gt;  1.5087738163437654e-35%
98 -&gt;  4.572984556753267e-37%
99 -&gt;  9.239295328950519e-39%
100 -&gt;  9.332621544394437e-41%
</code></pre>

<p><br />
We can see that the answer is <strong>10</strong>; i.e. <strong>guest number 10</strong> gets the largest piece of cake. But the task was for the program to figure it out, so let&rsquo;s do just that.</p>

<p>Finding the largest value is easy, as long as we chop off the sequence after the first <strong>100</strong> elements. (The rest of them, <strong>ad infinitum</strong>, are zero. Trying to access all elements in an infinite list is not a good idea.)</p>

<pre><code>say $pythagoras-pie[^100].max; # -&gt; 6.281565095552947
</code></pre>

<p><br />
But this doesn&rsquo;t tell us the position (or index), and thus which guest.
<br />
<br />
<a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-016/arne-sommer/perl6/ch-1.p6"><strong>pythagoras-pie</strong></a>
</p>

<pre><code class="language-perl6">my $pythagoras-pie := gather
{
  my $remainder = 100;
  my $position  = 1;
  loop
  {
    my $part = $remainder * $position / 100;
    $remainder -= $part;
    $position++;
    take $part;
  }
}
\
my $largest = $pythagoras-pie[^100].max;                          # [1]

for (^100).grep({ $pythagoras-pie[$_] == $largest }) -&gt; $guest    # [2]
{
  say &quot;Guest #{ $guest + 1 } got the largest piece of cake ({ $largest }%).&quot;;
}                # [3]
</code></pre>

<p><br />
</p>

<h3 id="1-get-the-highest-value-in-the-first-100-elements-of-the-sequence-we-had-to-get-rid-of-the-infinite-sequence-as-max-obviously-cannot-reach-the-end">[1] Get the highest value in the first 100 elements of the sequence. (We had to get rid of the infinite sequence, as «max» obviously cannot reach the end.)</h3>

<h3 id="2-iterate-over-the-indeces-0-to-99-select-the-ones-with-grep-where-the-value-in-the-list-is-equal-to-the-highest-value-note-that-this-would-give-all-matches-if-there-had-been-more-than-one-but-there-isn-t">[2] Iterate over the indeces (0 to 99), select the ones (with «grep») where the value in the list is equal to the highest value. Note that this would give all matches, if there had been more than one (but there isn&rsquo;t).</h3>

<h3 id="3-compensate-for-the-numbering-discrepancy-the-guests-are-given-as-1-100-but-the-indeces-are-0-99">[3] Compensate for the numbering discrepancy; the guests are given as 1..100, but the indeces are 0..99.</h3>

<p></p>

<h1 id="running-it">Running it:</h1>

<pre><code>$ perl6 pythagoras-pie
Guest #10 got the largest piece of cake (6.281565095552947%).
</code></pre>

<p></p>

<hr />

<p>If you have any suggestion then please do share with us <a href="mailto:perlweeklychallenge@yahoo.com">perlweeklychallenge@yahoo.com</a>.</p>

<p><a href="/blog/advent-calendar-2019"><strong>Advent Calendar 2019</strong></a></p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        <script>document.write(new Date().getFullYear())</script>
                    </span> PerlWeeklyChallenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.nomtimes.co.uk/site/shop.do?cref=PerlBooks" title="Free Perl Books" target="_blank">
                            <img src="/images/NomTimes.jpg" style="width:22px; height: 18px;" alt=""/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://perlweeklychallenge.org/plugins/jQurey/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.form.js"></script>
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://perlweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://perlweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/chart.js"></script>
<!-- wow js -->
<script src="https://perlweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://perlweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://perlweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-136524905-1', 'auto');
    ga('send', 'pageview');
</script>
</body>

</html>

