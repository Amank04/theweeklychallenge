<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://perlweeklychallenge.org/"/>
    <meta property="og:image"       content="https://perlweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://perlweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Perl Weekly Review: Challenge - 042.">
    <meta name="author" content="Perl Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.55.0-DEV" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Perl Weekly Review: Challenge - 042</title>
    <link rel="icon" href="https://perlweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/main.css">
</head>

<body>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://perlweeklychallenge.org/">
                        <img src="https://perlweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Perl Weekly Review: Challenge - 042</h2>
                    <div class="portfolio-meta">
                        <span>Monday, Jan 20, 2020</span>|
                        <span> Tags:
                            Perl
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://perlweeklychallenge.org/images/blog/p5-review-challenge-042.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    

<hr />

<hr />

<p>Continues from <a href="/blog/review-challenge-041/"><strong>previous week</strong></a>.</p>

<p>Feel free to <a href="https://github.com/manwar/perlweeklychallenge"><strong>submit a merge request or open a ticket</strong></a> if you found any issues with this post. We highly appreciate and welcome your feedback.</p>

<p>For a quick overview, go through the <a href="/blog/perl-weekly-challenge-042/"><strong>original tasks</strong></a> and <a href="/blog/recap-challenge-042/"><strong>recap</strong></a> of the weekly challenge.</p>

<p>Additional feedback to our Perl Weekly Challengeâ€™s <a href="https://twitter.com/perlwchallenge?lang=en"><strong>Twitter account</strong></a> is much appreciated.</p>

<hr />

<hr />

<h2 id="task-1">Task #1</h2>

<hr />

<hr />

<h3 id="octal-number-system">Octal Number System</h3>

<p>Write a script to print decimal number 0 to 50 in <strong>Octal Number System</strong>.</p>

<p>For example:</p>

<h5 id="decimal-0-octal-0">Decimal 0  = Octal 0</h5>

<h5 id="decimal-1-octal-1">Decimal 1  = Octal 1</h5>

<h5 id="decimal-2-octal-2">Decimal 2  = Octal 2</h5>

<h5 id="decimal-3-octal-3">Decimal 3  = Octal 3</h5>

<h5 id="decimal-4-octal-4">Decimal 4  = Octal 4</h5>

<h5 id="decimal-5-octal-5">Decimal 5  = Octal 5</h5>

<h5 id="decimal-6-octal-6">Decimal 6  = Octal 6</h5>

<h5 id="decimal-7-octal-7">Decimal 7  = Octal 7</h5>

<h5 id="decimal-8-octal-10">Decimal 8  = Octal 10</h5>

<p>and so on.</p>

<hr />

<hr />

<h2 id="adam-russell">Adam Russell</h2>

<p><strong>Adam</strong> shared the power of <strong>sprintf()</strong> in his solution.</p>

<pre><code class="language-perl">use strict;
use warnings;
MAIN:{
    for my $x (0..50){
        print &quot;Decimal $x = Octal &quot; . sprintf(&quot;%o&quot;, $x) . &quot;\n&quot;;
    }
}
</code></pre>

<hr />

<h2 id="alicia-bielsa">Alicia Bielsa</h2>

<p><strong>Alicia</strong> followed similar path like <strong>Adam</strong> but used <strong>printf()</strong> instead. More compact, good job.</p>

<pre><code class="language-perl">use strict;
use warnings;

foreach my $i ( 1..50 ) {
    printf(&quot;Decimal $i = Octal %o\n&quot;,$i);
}
</code></pre>

<hr />

<h2 id="burkhard-nickels">Burkhard Nickels</h2>

<p><strong>Burkhard</strong> shared both <strong>printf()</strong> and <strong>sprintf()</strong> version. Ideal for someone new to learn <strong>Perl</strong>.</p>

<pre><code class="language-perl">use strict;
use warnings;

# Version 1: foreach loop with printf
foreach (0 .. 50) {
    printf(&quot;Decimal: %d - Octal: %o\n&quot;,$_,$_);
}

# Version 2: map with sprintf
print my @res = map { sprintf(&quot;Dec %d - Oct %o\n&quot;,$_,$_) } (0 .. 50);
</code></pre>

<hr />

<h2 id="colin-crain">Colin Crain</h2>

<p><strong>Colin</strong> likes to the difficult path and manually solved the task. It reminds me my learning days.</p>

<pre><code class="language-perl">use warnings;
use strict;
use feature &quot;:5.26&quot;;

printf &quot;Decimal %-2d = Octal %-2d\n&quot;, $_, octal($_) for (-50..50);

sub octal {
    my $num = shift;
    my $sign = ($num &gt;= 0) ? &quot;&quot; : '-';
    $num = abs($num);
    my $out = &quot;&quot;;
    my $rem;
    while ( $num &gt; 0 ) {
          ($num, $rem) = (int( $num/8 ), $num % 8);
        $out = $rem . $out;
    }
    $out = $sign . $out;
    return $out ? $out : 0;  ## needs to output 0 for 0
}
</code></pre>

<hr />

<h2 id="cristina-heredia">Cristina Heredia</h2>

<p><strong>Cristina</strong>, new member of the team shared the first contribution. Looking forward to many more magical solutions.</p>

<pre><code class="language-perl">#!/usr/bin/perl

for (my $i = 0; $i &lt;= 50; $i++) {

    print &quot;Decimal $i = Octal &quot;;
    printf(&quot;%o\n&quot;,$_)for &quot;$i&quot;;
}
</code></pre>

<hr />

<h2 id="dave-jacoby">Dave Jacoby</h2>

<p><strong>Dave</strong> also took the help from <strong>sprintf()</strong> like others. I wonder how many knows the real power of <strong>sprintf()</strong>.</p>

<pre><code class="language-perl">use feature qw{ say };
use strict;
use warnings;

for my $d ( 0 .. 50 ) {
    my $o = sprintf '%o', $d;
    say qq{Decimal $d = Octal $o};
}
</code></pre>

<hr />

<h2 id="duane-powell">Duane Powell</h2>

<p><strong>Duane</strong> came up with handmade complete solution.</p>

<pre><code class="language-perl">use warnings;
use strict;
use feature qw( say );

my $decimal_no = shift;
if ($decimal_no) {
    say convert_to_octal($decimal_no);
}
else {
    for (0 .. 50) {
        say convert_to_octal($_);
    }
}

sub convert_to_octal {
    my $n = shift;
    return 0 if ($n == 0);
    my @oct;
    while ($n &gt; 0) {
        my $remainder = $n/8 - int($n/8);
        push @oct, $remainder * 8;
        $n = int($n/8);
    }
    return join('',reverse @oct);
}
</code></pre>

<hr />

<h2 id="duncan-c-white">Duncan C. White</h2>

<p><strong>Duncan</strong> introduced <strong>bit</strong> operator in a very elegant way to solve the task. I loved it.</p>

<pre><code class="language-perl">use v5.10;  # to get &quot;say&quot;
use strict;
use warnings;

die &quot;Usage: ch-1.pl [N//50]\n&quot; if @ARGV&gt;1;

my $n = shift // 50;

#
# my $o = to_oct_str( $x );
#   Convert x to an octal string, eg. 8 is &quot;10&quot;
#
sub to_oct_str
{
    my( $x ) = @_;
    my $result = &quot;&quot;;
    if( $x &gt; 7 )
    {
        $result = to_oct_str( $x&gt;&gt;3 );
    }
    $result .= $x&amp;7;
    return $result;
}


foreach my $x (0..$n)
{
    # convert x to octal..
    my $o = to_oct_str( $x );
    say &quot;$x\t$o&quot;;
}
</code></pre>

<hr />

<h2 id="e-choroba">E. Choroba</h2>

<p><strong>Choroba</strong> didn&rsquo;t try to be clever and kept it simple.</p>

<pre><code class="language-perl">use warnings;
use strict;

printf &quot;Decimal %d = Octal %o\n&quot;, $_, $_
    for 0 .. 50;
</code></pre>

<hr />

<h2 id="fabrizio-poggi">Fabrizio Poggi</h2>

<p><strong>Fabrizio</strong> also got his hand dirty while solving the task. Good job.</p>

<pre><code class="language-perl">use strict;
use warnings;

my $x;
my $y;
my $mod;
my $oct;
my @array;

foreach $x (0..50){
    print &quot;Decimal $x = &quot;;
    if ($x &lt; 8) {
        $oct = $x;
    } else {
        do {
            $y = int($x / 8);
            $mod = $x % 8;
            push (@array, $mod);
            $x = $y;
            } while ($x &gt; 8);
        push (@array, $x);
        $oct = reverse @array;
    }
print &quot;Octal $oct \n&quot;;
@array=();
}
</code></pre>

<hr />

<h2 id="jaldhar-h-vyas">Jaldhar H. Vyas</h2>

<p><strong>Jaldhar</strong> made it look cool with the use of <strong>map{}</strong>. Smart Cookie.</p>

<pre><code class="language-perl">perl -e 'map { printf &quot;Decimal %d = Octal %o\n&quot;, $_, $_ } (0 .. 50);'
</code></pre>

<hr />

<h2 id="javier-luque">Javier Luque</h2>

<p><strong>Javier</strong> back to basics, yet powerful.</p>

<pre><code class="language-perl">use strict;
use warnings;
use feature qw /say/;

for my $i (1..50) {
    say 'Decimal '  . $i .
        ' = Octal ' . to_octal($i);
}

sub to_octal {
    return sprintf('%o', shift);
}
</code></pre>

<hr />

<h2 id="kivanc-yazan">Kivanc Yazan</h2>

<p><strong>Kivanc</strong> also followed the straight forward path and reached the target without any issue.</p>

<pre><code class="language-perl">use warnings;
use strict;

# Write a script to print decimal number 0 to 50 in Octal Number System.
for my $i (0..50){
  printf &quot;Decimal %d = Octal %o\n&quot;, $i, $i;
}
</code></pre>

<hr />

<h2 id="laurent-rosenfeld">Laurent Rosenfeld</h2>

<p><strong>Laurent</strong> one-liner is always the best, usage of <strong>$_</strong> twice makes it interesting.</p>

<pre><code class="language-perl">perl -e 'printf &quot;Decimal: %2d  =  Octal %2o \n&quot;, $_, $_ for 0..50;'
</code></pre>

<hr />

<h2 id="nazareno-delucca">Nazareno Delucca</h2>

<p><strong>Nazareno</strong> solutions really hard to follow first time. I had to run the script to see the end result.</p>

<pre><code class="language-perl">use strict;
use warnings;

my $top = shift @ARGV || 50;
my $holder = 0;

for (0..$top){
    print &quot;dec: $_ -&gt; oct: &quot;. $holder++ . &quot;\n&quot;;
    $holder+=2 if 8 == substr $holder, -1;
}
```**

***

## Peter Scott

**Peter** is a man of few words. You know why i say that, checkout his solution.

```perl

perl -E 'say sprintf &quot;Decimal %d = Octal %o&quot;, $_, $_ for 0 .. 50'
</code></pre>

<hr />

<h2 id="roger-bell-west">Roger Bell_West</h2>

<p><strong>Roger</strong> kept it simple and easy this time.</p>

<pre><code class="language-perl">use strict;
use warnings;

foreach (0..50) {
  printf('Decimal %d = Octal %o'.&quot;\n&quot;,$_,$_);
}
</code></pre>

<hr />

<h2 id="ruben-westerberg">Ruben Westerberg</h2>

<p><strong>Ruben</strong> followed the same path like many.</p>

<pre><code class="language-perl">perl -e 'printf &quot;Decimal: %4d Octal: %4o\n&quot;,$_,$_ for 0..50';
</code></pre>

<hr />

<h2 id="ryan-thompson">Ryan Thompson</h2>

<p><strong>Ryan</strong> didn&rsquo;t lost the path either.</p>

<pre><code class="language-perl">printf &quot;Decimal %2d = Octal %2o\n&quot;, $_, $_ for 0..50;

# This printf feature will be important for our Raku solution:
printf 'Decimal %1$2d = Octal %1$2o'.&quot;\n&quot;, $_ for 0..50;
</code></pre>

<hr />

<h2 id="saif-ahmed">Saif Ahmed</h2>

<p><strong>Saif</strong> is known for his documented solution. This time also it is no different.</p>

<pre><code class="language-perl">use strict; use warnings;

my $base=8;

print &quot;Converting from decimal to octal (base 8)\n&quot;;

for my $n (1..50){
  printf (&quot;Decimal %2s is %2s in base %1s\n&quot;,$n, decimalTobaseN($base,$n), $base) ;
}

sub decimalTobaseN{
   my ($base,$number)=@_;                   # Function receives base and the number to convert
   my @digits=(0..9,'A'..'Z');              # potential output characters

   my $string=&quot;&quot;;                           # holds the output as string of characters

   while ($number&gt;0){                       # continue until no more required
      my $remainder=$number % $base;        # get the remainder after division with base
      $string=$digits[$remainder].$string;  # add that to the left most side of string
      $number=($number-$remainder)/$base;   # divide the residual number by base
   }

   return $string                           # return the result
}

# The following section describes a function inverse of decimalToBaseN()
# Goal is to convert baseN string generated above back to decimal

print &quot;\n\nPress any key to continue\n&quot;;
&lt;STDIN&gt;;
print &quot;Converting decimal 100 into bases 2 to 36 and then back again\n\n&quot;;

for $base (2..36){                         # for each valid base
      my $a = decimalTobaseN($base,100);   # convert decimal 100 into that base
      my $b = baseNToDecimal($base,$a);    # then convert result back to decimal

      printf (&quot;Decimal 100 in base %2s is %2s and converted back is %2s\n&quot;,$base, $a, $b) ;
}

sub baseNToDecimal{
   my ($base,$string)=@_;                   # Function receives base and the string to convert
   my %baseValues;                          # the base characters to decimal value are
   @baseValues{(0..9,'A'..'Z')}=(0..36);    # stored in a hash
   my $result=0;                            # initial value is zero
   foreach (split //,$string){              # go over each character in the string
                                            # multiplying result by the base before adding
       $result=$result*$base+$baseValues{$_};  # next character value to result
   }
   return $result;                          # return the result
}
</code></pre>

<hr />

<h2 id="steven-wilson">Steven Wilson</h2>

<p><strong>Steven</strong> not only solved the task but also added handy unit test as well.</p>

<pre><code class="language-perl">use strict;
use warnings;
use feature qw/ say /;
use Test::More tests =&gt; 1;

ok( decimal_to_octal(1792) == 3400, &quot;test decimal 1792 is octal 3400&quot; );

sub decimal_to_octal {
    my $dec = shift;
    my $result;
    while ( $dec &gt; 7 ) {
        $result .= $dec % 8;
        $dec = int( $dec / 8 );
    }
    $result .= $dec;
    return scalar reverse $result;
}

for ( 0 .. 50 ) {
    say &quot;Decimal $_ = Octal &quot;, decimal_to_octal($_);
}
</code></pre>

<hr />

<h2 id="walt-mankowski">Walt Mankowski</h2>

<p><strong>Walt</strong> is now regular with his solutions. This time with a one-liner.</p>

<pre><code class="language-perl">use strict;
use warnings;

printf &quot;Decimal %d = Octal %o\n&quot;, $_, $_ for 0..50;
</code></pre>

<hr />

<h2 id="wanderdoc">Wanderdoc</h2>

<p><strong>Wanderdoc</strong>, one of <strong>Early Bird Club</strong> members, presented the result as expected.</p>

<pre><code class="language-perl">use strict;
use warnings FATAL =&gt; qw(all);

for my $number ( 0 .. 50 )
{
     print join(' = ', join(' ', 'Decimal', $number),
                       join(' ', 'Octal', sprintf(&quot;%o&quot;, $number))), $/;
}
</code></pre>

<hr />

<hr />

<h2 id="task-2">Task #2</h2>

<hr />

<hr />

<h3 id="balanced-brackets">Balanced Brackets</h3>

<p>Write a script to generate a string with random number of <strong>(</strong> and <strong>)</strong> brackets. Then make the script validate the string if it has balanced brackets.</p>

<p>For example:</p>

<h5 id="ok">() - OK</h5>

<h5 id="ok-1">(()) - OK</h5>

<h5 id="not-ok">)( - NOT OK</h5>

<h5 id="not-ok-1">())() - NOT OK</h5>

<hr />

<hr />

<h2 id="adam-russell-1">Adam Russell</h2>

<pre><code class="language-perl">use strict;
use warnings;
##
# Write a script to generate a string with a random
# number of ( and ) parentheses. Make the script validate
# the string for balanced parentheses.
##
use boolean;
use constant LENGTH =&gt; 4;
use constant OPEN =&gt; &quot;(&quot;;
use constant CLOSE =&gt; &quot;)&quot;;

sub build{
    my $s;
    for (0 .. (LENGTH - 1)){
        my $p = rand() &lt; 0.5 ? OPEN : CLOSE;
        $s .= $p;
    }
    return $s;
}

sub validate{
    my($s) = @_;
    my @a;
    for my $c (split(//, $s)){
        push @a, $c if($c eq OPEN);
        if($c eq CLOSE){
            return false if(!@a || pop @a ne OPEN);
        }
    }
    return true if !@a;
    return false;
}

MAIN:{
    my $s = build();
    my $r = validate($s) ?  &quot;balanced&quot; : &quot;not balanced&quot;;
    print &quot;$s is $r\n&quot;;
}
</code></pre>

<hr />

<h2 id="alicia-bielsa-1">Alicia Bielsa</h2>

<pre><code class="language-perl">use strict;
use warnings;

my $openingBracket = '(';
my $closingBracket = ')';
my @aBracketSymbols = ($openingBracket, $closingBracket);
my $bracketString = '';

my $lengthString = int(rand(10));
foreach my $i (0..$lengthString){
    $bracketString .= $aBracketSymbols[int(rand(2))];
}

my $balanceResult  = isStringBalanced($bracketString);
print &quot;$bracketString - $balanceResult\n&quot;;

sub isStringBalanced {
    my $stringToCkeck = shift;
    my $balanceCount = 0;
    foreach my $bracket (split ('',$stringToCkeck)){
        if ($bracket eq $closingBracket ){
            if ( $balanceCount == 0){
                return 'KO';
            } else {
                $balanceCount --;
            }
        } elsif ($bracket eq $openingBracket){
            $balanceCount ++;
        }
    }
    if ($balanceCount == 0 ){
        return 'OK';
    } else {
        return 'KO';
    }
}
</code></pre>

<hr />

<h2 id="burkhard-nickels-1">Burkhard Nickels</h2>

<pre><code class="language-perl">use strict;
use warnings;

print &quot;ch-2.pl (Version 1.0) PWC #42 Task #2: Balanced Brackets\n&quot;;

sub create_brackets {
    my ($nr) = @_;
    my $s;
    for( my $i=0; $i&lt;=$nr; $i++ )  {
        my $br = int(rand(2));
        if($br) { $s .= &quot;)&quot;; } else { $s .= &quot;(&quot;; }
    }
    return $s;
}

my $ok;
do {
    my $nr = int(rand(10));
    my $str = create_brackets($nr);
    $ok  = balanced_brackets($str);
    my $rs  = &quot;NOT OK&quot;;
    $rs = &quot;OK&quot; if $ok;
    print $str, &quot; - &quot;, $rs, &quot;\n&quot;;
} while( ! $ok );

sub balanced_brackets {
    my $str = shift;
    my $found = $str =~ s/\(\)//;
    my $ok;
    if($found) {
        $ok = balanced_brackets($str);
        return $ok;
    }
    else {
        if( $str=~/\(|\)/ ) { return 0; }
        else { return 1; }
    }
}
</code></pre>

<hr />

<h2 id="colin-crain-1">Colin Crain</h2>

<pre><code class="language-perl">use warnings;
use strict;
use feature &quot;:5.26&quot;;

my $upper = shift @ARGV // 10;
$upper = int(rand($upper)) + 1;

my $str = make_string($upper);
say $str;
say validate( $str );

sub make_string {
    return join '', map { ['(',')']-&gt;[int(rand(2))] } (1..$_[0]);
}

sub validate {
    my $str = shift;
    unless (length($str)%2==0) { return &quot;IMBALANCED - odd number of parens&quot;};
    while ( $str =~ s/ \( (.*?) \) /$1/x) {
        if ($-[0] != 0){ return &quot;IMBALANCED - remaining group starts with right paren : $str&quot; }
    }
    return (length $str == 0) ? &quot;BALANCED&quot; : &quot;IMBALANCED - $str remaining&quot;;
}
</code></pre>

<hr />

<h2 id="cristina-heredia-1">Cristina Heredia</h2>

<pre><code class="language-perl">use strict;

#Variables
my $random;
my @array;
my $i = 0;
my $text;
my $code = 0;


generateString();
validation();
result();

#Fuctions

#Create the string of parenthesis by generates random numbers between 0-2 (0 = '(', 1 = ')' and 2 = end).
sub generateString {
    $random = int rand(2);
    convertParenthesis();
    while ($random != 2) {
        $random = int rand(3);
        convertParenthesis();
    }
}

#Converts the numbers generated into parenthesis
sub convertParenthesis{

        if ($random == '0') {
            @array[$i] = $random;
            $text .= '(';
            $i++;
        }
        elsif ($random == '1') {
            @array[$i] = $random;
            $text .= ')';
            $i++;
        }

}

#Checks if the string has balanced brackets
sub validation {
    my $length = @array;
    for (my $j = 0; $j &lt; $length; $j++) {
        if (@array[$j] == 0) {
            $code++;
        }
        elsif (@array[$j] == 1 and $code != 0) {
            $code--;
        }
        else {
            $code = 1;
            last;
        }
    }
}

#Write the string and indicate if it's ok or not
sub result {
    if ($code == 0) {
        print &quot;$text - OK\n&quot;;
    }
    else {
        print &quot;$text - NOT OK\n&quot;;
    }
}
</code></pre>

<hr />

<h2 id="dave-jacoby-1">Dave Jacoby</h2>

<pre><code class="language-perl">use strict;
use warnings;
use feature qw{ say signatures };
no warnings qw{ experimental::signatures };

# generate the string of braces
my $string;
for ( 0 .. 1 + int rand 9 ) {
    $string .= int rand 2 ? '(' : ')';
}

# test if the string has matched braces
my $t = test_braces($string);
my $response = $t == 0 ? 'OK' : 'NOT OK';
say qq{$string - $response};
</code></pre>

<hr />

<h2 id="duane-powell-1">Duane Powell</h2>

<pre><code class="language-perl">use warnings;
use strict;
use feature qw( say );

use constant {
        L_PAREN =&gt; '(',
        R_PAREN =&gt; ')',
};

my $paren = shift;
if ($paren) {
    say &quot;Given paren string = $paren&quot;;
}
else {
    my $lower_limit = 2;
    my $upper_limit = 7;
    my $random_number = int(rand($upper_limit-$lower_limit)) + $lower_limit;
    for (1 .. $random_number) {
        # coin toss left or right paren
        $paren .= (rand() &lt; 0.5) ? L_PAREN : R_PAREN;
    }
    say &quot;Random paren string = $paren&quot;;
}

my $msg;
my $paren_count = 0;
foreach (split(//,$paren)) {
    $paren_count-- if ($_ eq R_PAREN);
    $paren_count++ if ($_ eq L_PAREN);
    if ($paren_count &lt; 0) {
        $msg = &quot;Parens are not balanced.&quot;;
        last;
    }
}
$msg = 'Parens are balanced.'   if ($paren_count == 0);
$msg = 'Parens are not closed.' if ($paren_count  &gt; 0);
say $msg;
</code></pre>

<hr />

<h2 id="duncan-c-white-1">Duncan C. White</h2>

<pre><code class="language-perl">use v5.10;  # to get &quot;say&quot;
use strict;
use warnings;

sub gen_bracketed_string
{
    my $len = 20+int(rand(20));
    my $result=&quot;&quot;;
    foreach (1..$len)
    {
        $result .= int(rand(2))==0?'(':')';
    }
    return $result;
}

sub validate
{
    my( $brackstr ) = @_;
    my( $origlen, $len );
    do
    {
        $origlen = length($brackstr);
        $brackstr =~ s/\(\)//g;
        $len = length($brackstr);
    } while( $len &lt; $origlen );
    return $len==0?1:0;
}


srand( $$ ^ time() );

die &quot;Usage: ch-2.pl [BRACKSTR]\n&quot; if @ARGV&gt;1;
my $brackstr = shift // gen_bracketed_string();

my $isvalid = validate( $brackstr );

say &quot;$brackstr valid? $isvalid&quot;;
</code></pre>

<hr />

<h2 id="e-choroba-1">E. Choroba</h2>

<pre><code class="language-perl">use warnings;
use strict;
use feature qw{ say };

sub generate {
    return join &quot;&quot;, map +('(', ')')[rand 2], 1 .. int rand 80
}

sub is_valid {
    my ($s) = @_;
    $s =~ s/\(\)//g while -1 != index $s, '()';
    return ! length $s
}


use Test::More tests =&gt; 4;
ok(is_valid('()'));
ok(is_valid('(())'));
ok(! is_valid(')('));
ok(! is_valid('())()'));

my $s = generate();
say $s, ' ', is_valid($s) ? &quot;&quot; : 'in', 'valid';
</code></pre>

<hr />

<h2 id="fabrizio-poggi-1">Fabrizio Poggi</h2>

<pre><code class="language-perl">use strict;
use warnings;

my @chars  = ('(', ')');
my $lenght;
my $rands;
my $countr;
my $countl;

$lenght = int(rand(15)) + 1;
while ($lenght--){ $rands.= $chars[rand @chars] };
print &quot;$rands&quot;;
$countr = () = $rands =~ /\(/g;
$countl = () = $rands =~ /\)/g;
if ($countr - $countl == 0) {
    print &quot; - OK\n&quot;;
    } else {
    print &quot; - NOT OK\n&quot;;
    }
</code></pre>

<hr />

<h2 id="jaldhar-h-vyas-1">Jaldhar H. Vyas</h2>

<pre><code class="language-perl">use warnings;
use strict;
use 5.010;

sub isBalanced {
    my ($brackets) = @_;
    my @stack;

    map {
        if ( $brackets-&gt;[$_] eq '(' ) {
            push @stack, '(';
        } else {
            if (!scalar @stack) {
                return undef;
            }
            pop @stack;
        }
    } (0 .. scalar @{$brackets} - 1);

    return scalar @stack == 0;
}

my @brackets;

for (1 .. ((int rand 3) + 1) * 2) {
    push @brackets, (int rand 2 ? '(' : ')');
}

printf &quot;%s - %s%s\n&quot;,
    (join q{}, @brackets),
    isBalanced(\@brackets) ? q{} : 'NOT ',
    'OK';
</code></pre>

<hr />

<h2 id="javier-luque-1">Javier Luque</h2>

<pre><code class="language-perl">use strict;
use warnings;
use feature qw /say/;
use constant {
    MAX_STRING_LENGTH =&gt; 4
};

for my $i ( 1 .. 20 ) {
    my $string = generate_random_string();
    my $ok = (validate_string($string)) ? 'OK ' : 'NOT OK';
    say $string . ' - ' . $ok;
}

sub generate_random_string {
    my $length = int(rand(MAX_STRING_LENGTH - 1) + 2);
    my $string;

    for my $i (1 .. $length ) {
        $string .= (int(rand(2))) ? '(' : ')';
    }

    return $string;
}

sub validate_string {
    my $open_p;

    for my $char (split('', shift)) {
        $open_p++ if ($char eq '(');
        $open_p-- if ($char eq ')');

        return 0 if ($open_p &lt; 0);
    }

    return ($open_p == 0);
}
</code></pre>

<hr />

<h2 id="kivanc-yazan-1">Kivanc Yazan</h2>

<pre><code class="language-perl">use warnings;
use strict;
use List::Util qw/shuffle/;

my $count = rand(10)+1; # Could be as low as 1, as high as 10
my @chars = ( '(', ')' ) x $count;
@chars    = shuffle(@chars);
print join('',@chars).&quot;\n&quot;;

# Walk through to validate
my $current_open = 0;
for my $char (@chars){
  if ($char eq '('){
    $current_open++;
  } elsif ($current_open == 0){
    print &quot;Not Valid\n&quot;;
    exit;
  } else {
    $current_open--;
  }
}
print &quot;Valid\n&quot;;
</code></pre>

<hr />

<h2 id="laurent-rosenfeld-1">Laurent Rosenfeld</h2>

<pre><code class="language-perl">use strict;
use warnings;
use feature qw/say/;

sub check_parens {
    my $expr = shift;
    my @stack;
    $expr =~ s/\s+//g; # remove spaces
    for (split //, $expr) {
        push @stack, $_ if $_ eq '(';
        if ($_ eq ')') {
            return 0 if @stack == 0;
            pop @stack;
        }
    }
    return scalar @stack == 0 ? 1 : 0;
}

for (&quot;()&quot;, &quot;(  )&quot;, &quot;(())&quot;, &quot;( ( ))&quot;, &quot;)(&quot;, &quot;())()&quot;,
    &quot;((( ( ()))))&quot;,  &quot;()()()()&quot;, &quot;(())(())&quot;) {
        say &quot;$_: &quot;, check_parens($_) ? &quot;OK&quot; : &quot;Not OK&quot;;
}
</code></pre>

<hr />

<h2 id="nazareno-delucca-1">Nazareno Delucca</h2>

<pre><code class="language-perl">use strict;
use warnings;

my $range = shift @ARGV || rand(24);

# String Length
my $len = rand($range);

# String Generator
my $lisp = '';
$lisp .= rand() &lt; 0.5 ? '(' : ')' for 0 .. $len;

print &quot;Generated: $lisp\n&quot;;

my $paired_matches = $lisp =~ s/\(\)//g;
$paired_matches = $lisp =~ s/\(\)//g while $paired_matches;

print &quot;Un-paired brackets: $lisp\n&quot;;
print length ($lisp) &gt; 0 ? &quot;It's NOT balanced\n&quot; : &quot;It's balanced!\n&quot;;

# Turns out it's very difficult to get balanced strings
# I used 2 and 4 for demonstration

# $ perl ch-2.pl 2
# Generated: ()
# Un-paired brackets:
# It's balanced!

# $ perl ch-2.pl 2
# Generated: )(
# Un-paired brackets: )(
# It's NOT balanced

# $ perl ch-2.pl 4
# Generated: ()()
# Un-paired brackets:
# It's balanced!

# $ perl ch-2.pl 4
# Generated: (((
# Un-paired brackets: (((
# It's NOT balanced

# $ perl ch-2.pl 4
# Generated: (()
# Un-paired brackets: (
# It's NOT balanced

# $ perl ch-2.pl 4
# Generated: ))((
# Un-paired brackets: ))((
# It's NOT balanced

# $ perl ch-2.pl 4
# Generated: ))()
# Un-paired brackets: ))
# It's NOT balanced

# $ perl ch-2.pl 4
# Generated: (())
# Un-paired brackets:
# It's balanced!
</code></pre>

<hr />

<h2 id="peter-scott">Peter Scott</h2>

<pre><code class="language-perl">use 5.016;

my ($MIN_STR_LEN, $MAX_STR_LEN) = (4,10);
my $string_length = int( rand( $MAX_STR_LEN - $MIN_STR_LEN ) ) + $MIN_STR_LEN;
my $string = '';
$string .= @{[qw{ ( ) }]}[rand 2] for 1 .. $string_length;
print &quot;$string - &quot;;
1 while $string =~ s/\(\)//;
say $string ? &quot;NOT OK&quot; : &quot;OK&quot;;
</code></pre>

<hr />

<h2 id="roger-bell-west-1">Roger Bell_West</h2>

<pre><code class="language-perl">use strict;
use warnings;

my $s='';
foreach (-1..2*(int(rand()*4))) {
  $s .= (rand()&lt;0.5)?'(':')';
}

print &quot;$s\n&quot;;

while ($s =~ s/\(\)//g) {
}

if ($s) {
  print &quot;Invalid: $s\n&quot;;
} else {
  print &quot;Valid.\n&quot;;
}
</code></pre>

<hr />

<h2 id="ruben-westerberg-1">Ruben Westerberg</h2>

<pre><code class="language-perl">use strict;
use warnings;
use POSIX qw&lt;round&gt;;

my $maxLength=$ARGV[0]//20; #If no max on command line use 20
while () {
    my $str=&quot;&quot;;
    #make a random length string of up to $maxLength long
    $str.=chr round rand()+40 for 0..int rand $maxLength;

    my $v=0;
    for (split &quot;&quot;,$str) {
        $v+=(ord($_)-40)*-2+1;
        last unless $v &gt;=0;
    }

    if($v==0) {
        print(&quot;balanced: $str\n&quot;);
        sleep 1;
        next;
    }
    print(&quot;unbalanced: $str\n&quot;);
}
</code></pre>

<hr />

<h2 id="ryan-thompson-1">Ryan Thompson</h2>

<pre><code class="language-perl">use 5.010;
use warnings;
use strict;
use List::Util 'shuffle';

# To have any hope of being balanced, the string must be of even length,
# and must contain the same number of ( and ) brackets, so that's what we do.
sub gen_str { join '', shuffle map { ($_) x $_[0] } qw&lt;( )&gt; }

# This type of balance checking is trivial with a regex
sub balanced_tiny(_) { $_[0] =~ /^(\((?1)*\))*$/ }

# Same sub, less line noise
sub balanced(_) {
    $_[0] =~ /^         # Start of string
        (               # Match group 1
            \(          # Opening bracket
                (?1)*   # Recurse to start of group 1
            \)          # Closing bracket
        )*              # Group 1, zero or more times
    $/x                 # End of string
}

# And now we'll check a few
for my $n (0..5) {
    say &quot;$_ - &quot; . (balanced ? 'OK' : 'NOT OK') for map { gen_str($n) } 1..5;
}
</code></pre>

<hr />

<h2 id="saif-ahmed-1">Saif Ahmed</h2>

<pre><code class="language-perl">use strict; use warnings;

for (1..100){
    my $testString=randomString();          # generate random string
    printf (&quot;  %-12s&quot;, $testString);        # display it
    print  findError($testString),  &quot;\n&quot;;   # validate it
}

sub randomString{
    my $string=&quot;&quot;;                          # start with empty string
    for (0..(rand()*5+1)){                  # for a random length (2 - 7)
        $string.=(&quot;(&quot;,&quot;)&quot;)[rand()*2];       # keep adding a random bracket
    }
    $string;                                # return the string
}

sub findError{
    my $str=shift;
    while ($str =~s/\((-*)\)/-\1-/){};      # keep replacing matched braces with
                                            # hyphens. What is left are string
                                            # contaning unmatched brackets
                                            # If these exist, they show locations
                                            # of errors
    if ($str=~/\(|\)/){ return &quot;Not ok unmatched brackets at $str &quot;};
    &quot;OK, Balanced brackets&quot;;

}
</code></pre>

<hr />

<h2 id="walt-mankowski-1">Walt Mankowski</h2>

<pre><code class="language-perl">use strict;
use warnings;
use feature qw(:5.30);
use experimental qw(signatures);

my $MAX_LEN = 10;

# return a random string of parens of length $len
sub rand_str($len) {
    return join '', map { rand(2) &lt; 1 ? '(' : ')' } 1..$len;
}

# return true if the parens are balanced, else false
sub balanced($s) {
    my $cnt = 0;
    for my $c (split //, $s) {
        $cnt += $c eq '(' ? 1 : -1;
        return 0 if $cnt &lt; 0; # too many right parens
    }
    return $cnt == 0;
}

for (1..100) {
    my $rs = rand_str(int(rand($MAX_LEN)) + 1);
    say $rs, balanced($rs) ? &quot; - OK&quot; : &quot; - NOT OK&quot;;
}
</code></pre>

<hr />

<h2 id="wanderdoc-1">Wanderdoc</h2>

<pre><code class="language-perl">use strict;
use warnings;
use feature qw(:5.30);
use experimental qw(signatures);

my $MAX_LEN = 10;

# return a random string of parens of length $len
sub rand_str($len) {
    return join '', map { rand(2) &lt; 1 ? '(' : ')' } 1..$len;
}

# return true if the parens are balanced, else false
sub balanced($s) {
    my $cnt = 0;
    for my $c (split //, $s) {
        $cnt += $c eq '(' ? 1 : -1;
        return 0 if $cnt &lt; 0; # too many right parens
    }
    return $cnt == 0;
}

for (1..100) {
    my $rs = rand_str(int(rand($MAX_LEN)) + 1);
    say $rs, balanced($rs) ? &quot; - OK&quot; : &quot; - NOT OK&quot;;
}
</code></pre>

<hr />

<hr />

<h2 id="see-also">SEE ALSO</h2>

<hr />

<hr />

<p>(1) <a href="https://adamcrussell.livejournal.com/14160.html"><strong>Perl Weekly Challenge 042</strong></a> by <strong>Adam Russell</strong></p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        <script>document.write(new Date().getFullYear())</script>
                    </span> PerlWeeklyChallenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.nomtimes.co.uk/site/shop.do?cref=PerlBooks" title="Free Perl Books" target="_blank">
                            <img src="/images/NomTimes.jpg" style="width:22px; height: 18px;" alt=""/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://perlweeklychallenge.org/plugins/jQurey/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.form.js"></script>
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://perlweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://perlweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/chart.js"></script>
<!-- wow js -->
<script src="https://perlweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://perlweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://perlweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-136524905-1', 'auto');
    ga('send', 'pageview');
</script>
</body>

</html>

